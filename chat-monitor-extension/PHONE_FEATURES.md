# Функция поиска и исправления номеров телефонов

## Описание

Расширение теперь автоматически находит все номера телефонов в чате и предоставляет удобные инструменты для работы с ними.

## Основные возможности

### 1. Автоматический поиск номеров
- Поддерживает все казахстанские коды операторов: **707, 700, 747, 708, 727, 775, 778, 706**
- Распознает номера в различных форматах:
  - `7007077777` (без разделителей)
  - `87007077777` (с 8 в начале)
  - `8 700 707 77 77` (с пробелами)
  - `8-700-707-77-77` (с дефисами)
  - `8(700)707-77-77` (комбинированный формат)
  - `+7 700 707 77 77` (международный формат)
  - И многие другие варианты

### 2. Нормализация номеров
- Все найденные номера приводятся к единому формату: **`700 707 77 77`**
- Отображаются в удобном блоке под кнопкой "Исправить"

### 3. Копирование номеров
- **Клик по номеру** → копирует номер **без пробелов** в буфер обмена (например: `7007077777`)
- Показывает уведомление об успешном копировании
- Визуальная обратная связь при клике

### 4. Исправление номеров в тексте
- Кнопка **"Исправить"** рядом с каждым номером
- Автоматически находит и заменяет все неправильные форматы этого номера в тексте
- Приводит к единому формату `700 707 77 77`
- Показывает количество исправленных вхождений

### 5. Автоматическое обновление
- Номера обновляются при смене чата
- Обновляются при изменении текста в полях ввода
- Работают с несколькими чатами одновременно

## Пример использования

1. Откройте чат с номерами телефонов
2. Расширение автоматически найдет и отобразит все номера в блоке
3. **Для копирования**: просто кликните по номеру
4. **Для исправления**: нажмите кнопку "Исправить" рядом с номером

## Поддерживаемые форматы

### Входные форматы (распознаются):
- `7007077777`
- `87007077777` 
- `8 700 707 77 77`
- `7 700 707 77 77`
- `8-700-707-77-77`
- `8(700)707-77-77`
- `+7 700 707 77 77`
- `+77007077777`
- `8.700.707.77.77`
- `700 707 77 77` (уже правильный)

### Выходной формат (результат):
- **Отображение**: `700 707 77 77`
- **Копирование**: `7007077777` (без пробелов)

## Казахстанские коды операторов

Расширение распознает номера следующих операторов:
- **707** (Beeline)
- **700** (Activ)  
- **747** (Altel)
- **708** (Kcell)
- **727** (Kcell)
- **775** (Tele2)
- **778** (Altel)
- **706** (Kcell)

## Технические особенности

- Использует продвинутые регулярные выражения для точного поиска
- Избегает дубликатов номеров
- Работает в реальном времени
- Совместимо с существующим функционалом расширения
- Не влияет на работу других функций

## Тестирование

Для тестирования откройте файл `test-phones.html` в браузере с установленным расширением.